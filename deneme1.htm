<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MathGen</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        ::-webkit-scrollbar {
            width: 12px;
            background: linear-gradient(blue,rgb(36, 36, 240),rgb(95, 95, 233),rgb(111, 111, 197),rgb(88, 88, 141),rgb(119, 119, 152),rgb(119, 119, 141),rgb(105, 105, 115));
        }
        ::-webkit-scrollbar-thumb{
            background: linear-gradient(green,rgb(31, 134, 31),rgb(61, 128, 61),rgb(70, 118, 70),rgb(76, 112, 76),rgb(81, 100, 81));
            border-radius: 10px;
        }
        
        .ust-menu {
            background-color: black;
            padding: 10px 0;
            display: flex;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            text-align: right;
            justify-content: flex-end;
            align-items: center;
            width: 100%;
            height: 60px;
            position: relative;
        }
        .logo-alani {
            display: flex;
        }
        .menu {
            text-decoration: none;
            font-weight: bold;
            justify-content: space-around;
            transition: 0.6s;
            flex-direction: row-reverse;
            background-color: black ;
            padding: 10px;
            display: flex;
            align-items: center;
            flex: 1;
            justify-content: center;
        }
        .menu a {
            color: white;
            margin: 0 20px;
            text-decoration: none;
            font-size: 16px;
            cursor: pointer;
        }
        .menu a:hover {
            transition: 0.6s;
            color: yellow;
        }
        
        /* Profil B√∂l√ºm√º Stilleri */
        .profil-konteyneri {
            position: relative;
            margin-left: 20px;
        }
        
        .profil-ikonu {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ffcc00, #ff9900);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border: 2px solid white;
            transition: all 0.3s ease;
        }
        
        .profil-ikonu:hover {
            transform: scale(1.1);
            box-shadow: 0 0 10px rgba(255, 255, 0, 0.7);
        }
        
        .profil-ikonu span {
            color: black;
            font-weight: bold;
            font-size: 18px;
        }
        
        .profil-acilir-menu {
            position: absolute;
            top: 55px;
            right: 0;
            width: 250px;
            background: linear-gradient(135deg, #1a1a1a, #333);
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
            padding: 20px;
            z-index: 1000;
            display: none;
            border: 1px solid #444;
        }
        
        .profil-acilir-menu.aktif {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .profil-baslik {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #444;
        }
        
        .profil-resim {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ffcc00, #ff9900);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 24px;
            font-weight: bold;
            color: black;
        }
        
        .profil-bilgi h3 {
            color: white;
            font-size: 18px;
            margin-bottom: 5px;
        }
        
        .profil-bilgi p {
            color: #ccc;
            font-size: 14px;
        }
        
        .profil-istatistikleri {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .istatistik-oge {
            text-align: center;
            flex: 1;
        }
        
        .istatistik-deger {
            color: yellow;
            font-size: 24px;
            font-weight: bold;
            display: block;
        }
        
        .istatistik-etiket {
            color: #aaa;
            font-size: 12px;
        }
        
        .seviye-cubugu {
            height: 10px;
            background-color: #444;
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .seviye-ilerleme {
            height: 100%;
            background: linear-gradient(to right, #00cc00, #99ff33);
            width: 30%;
            border-radius: 5px;
        }
        
        .seviye-bilgi {
            display: flex;
            justify-content: space-between;
            color: #ccc;
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .profil-aksiyonlari {
            display: flex;
            justify-content: space-between;
        }
        
        .profil-dugme {
            background: linear-gradient(135deg, #0066cc, #004d99);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .profil-dugme:hover {
            background: linear-gradient(135deg, #004d99, #003366);
            transform: translateY(-2px);
        }
        
        /* Qeydiyyat Modal Stilleri */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }
        
        .modal-overlay.aktif {
            display: flex;
            animation: fadeIn 0.3s ease;
        }
        
        .kayit-modal {
            background: linear-gradient(135deg, #1a1a1a, #333);
            width: 450px;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border: 2px solid #444;
        }
        
        .modal-baslik {
            text-align: center;
            margin-bottom: 25px;
        }
        
        .modal-baslik h2 {
            color: yellow;
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .modal-baslik p {
            color: #ccc;
            font-size: 16px;
        }
        
        .form-grubu {
            margin-bottom: 20px;
        }
        
        .form-grubu label {
            display: block;
            color: white;
            margin-bottom: 8px;
            font-size: 16px;
        }
        
        .form-kontrol {
            width: 100%;
            padding: 12px 15px;
            border-radius: 10px;
            border: 2px solid #555;
            background: #222;
            color: white;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .form-kontrol:focus {
            outline: none;
            border-color: yellow;
            box-shadow: 0 0 10px rgba(255, 255, 0, 0.3);
        }
        
        .form-aksiyonlari {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .dugme {
            padding: 12px 25px;
            border-radius: 10px;
            border: none;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
        }
        
        .dugme-primer {
            background: linear-gradient(135deg, #ffcc00, #ff9900);
            color: black;
        }
        
        .dugme-primer:hover {
            background: linear-gradient(135deg, #ff9900, #cc6600);
            transform: translateY(-2px);
        }
        
        .dugme-sekonder {
            background: linear-gradient(135deg, #666, #444);
            color: white;
        }
        
        .dugme-sekonder:hover {
            background: linear-gradient(135deg, #555, #333);
            transform: translateY(-2px);
        }
        
        .hosgeldiniz-alani {
            text-align: center;
            margin-top: 50px;
            width: 800px;
            height: 400px;
            border-radius: 20px;
            background:linear-gradient(blue,rgb(72, 72, 240),rgb(33, 33, 223),rgb(91, 91, 215),rgb(112, 112, 211),rgb(125, 125, 168));
            font-size: 40px;
            font-weight: bold;
            margin-left:auto;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            padding: 50px;
            transition: 0.7s;
            margin-right: auto;
        }
        .hosgeldiniz-alani:hover{
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6);
            transition: 0.7s;
            transform: translateY(-5px);
        }
        
        .basla-dugme{
            background-color: yellow;
            border: none;
            margin-left: 0;
            width: 120px;
            border-radius: 15px;
            height: 45px;
            font-weight: bold;
            transition: 0.6s;
            font-size: 20px;
            cursor: pointer;
        }
        .basla-dugme:hover{
            transition: 0.6s;
            transform: translateY(-5px);
            box-shadow:  0 0 9px black;
        }
        
        p{
            color: black;
            font-size: 30px;
            font-weight: bold;
            margin-bottom: 20px;
        }
        .seviye-yollari{
            display: flex;
            margin-top: 20px;
            align-items: center;
            justify-content: space-around;
        }
        .seviye-karti{
            text-align: center;
            border-radius: 20px;
            width: 400px;
            height: 200px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            border-left: 5px solid deepskyblue;
            transition: 0.6s;
        }
        .seviye-karti:hover{
            transition: 0.6s;
            transform: translateY(-4px);
        }
        .ana-ust{
            display: flex;
        }
        .haberler-alani{
            width: 300px;
            height: 400px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            margin-top: 50px;
            margin-left:auto;
            border-radius: 20px;
            margin-right: auto;
            transition: 0.7s;
            border-left: 5px solid deepskyblue;
            padding-top: 10px;
        }
        .haberler-alani:hover{
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6);
            transition: 0.7s;
            transform: translateY(-5px);
        }
        
        .reklam-alani{
            width: 300px;
            height: 400px;
            float: right;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            margin-top: 50px;
            margin-left: auto;
            border-radius: 20px;
            margin-right: auto;
            transition: 0.7s;
            border-left: 5px solid deepskyblue;
            text-align: center;
            padding-top:140px ;
        }
        .reklam-alani:hover{
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6);
            transition: 0.7s;
            transform: translateY(-5px);
        }
        
        .ust-bolum{
            display: flex;
        }
        .haber-karti{
            width: 280px;
            height: 87px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            border-radius: 20px;
            margin-right: auto;
            margin-left: auto;
            margin-top: 7px;
            border-left: 5px solid deepskyblue;
            position: relative;
            padding: 10px;
        }
        .haber-tarih {
            position: absolute;
            bottom: 5px;
            right: 10px;
            color: grey;
            font-size: 12px;
        }
        
        /* Nav'a qeydiyyat baƒülantƒ±sƒ± */
        .kayit-linki {
            color: #ffcc00 !important;
            font-weight: bold;
            border: 2px solid #ffcc00;
            padding: 5px 15px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .kayit-linki:hover {
            background-color: #ffcc00;
            color: black !important;
        }
        
        /* ≈ûifre hatasƒ± mesajƒ± */
        .sifre-hatasi {
            color: #ff6666;
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }
        
        /* D…ôrs linkl…ôrinin qeydiyyatdan ke√ßilm…ômi≈ü hallarƒ± √º√ß√ºn */
        .ders-linki {
            position: relative;
        }
        
        .ders-linki::after {
            content: "Qeydiyyat t…ôl…ôb olunur";
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #333;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
        }
        
        .ders-linki:hover::after {
            opacity: 1;
        }
        
        /* Qeydiyyat mesajƒ± */
        .qeydiyyat-mesaji {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #ff3333, #cc0000);
            color: white;
            padding: 15px 30px;
            border-radius: 10px;
            font-weight: bold;
            z-index: 10000;
            animation: fadeInOut 3s ease;
            display: none;
        }
        
        @keyframes fadeInOut {
            0%, 100% { opacity: 0; top: 10px; }
            10%, 90% { opacity: 1; top: 20px; }
        }
        
        /* √áƒ±kƒ±≈ü butonu i√ßin ek stil */
        .profil-cikis-dugme {
            background: linear-gradient(135deg, #cc3300, #990000) !important;
            color: white !important;
        }
        
        .profil-cikis-dugme:hover {
            background: linear-gradient(135deg, #990000, #660000) !important;
            transform: translateY(-2px);
        }
        
        /* Qeydiyyat modalƒ±nƒ± tamamen gizlemek i√ßin */
        .modal-tamamen-gizli {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
        }
    </style>
</head>
<body>
<!-- Qeydiyyat Modalƒ± -->
<div class="modal-overlay" id="kayitModal">
    <div class="kayit-modal">
        <div class="modal-baslik">
            <h2>üë§ Qeydiyyat</h2>
            <p>MathGen-d…ô √∂yr…ônm…ôy…ô ba≈üla!</p>
        </div>
        
        <form id="kayitFormu" action="https://formspree.io/f/xldqzpdd" method="post">
            <div class="form-grubu">
                <label for="kullaniciAdi">Ad v…ô Soyad:</label>
                <input type="text" id="kullaniciAdi" class="form-kontrol" placeholder="Adƒ±nƒ±zƒ± v…ô soyadƒ±nƒ±zƒ± daxil edin" required>
            </div>
            
            <div class="form-grubu">
                <label for="kayitEmail">E-po√ßt:</label>
                <input type="email" id="kayitEmail" class="form-kontrol" placeholder="example@mail.com" required>
            </div>
            
            <div class="form-grubu">
                <label for="kayitSifre">≈ûifr…ô:</label>
                <input type="password" id="kayitSifre" class="form-kontrol" placeholder="∆èn az 6 simvol" required minlength="6">
            </div>
            
            <div class="form-grubu">
                <label for="sifreTekrar">≈ûifr…ôni t…ôsdiql…ô:</label>
                <input type="password" id="sifreTekrar" class="form-kontrol" placeholder="≈ûifr…ôni yenid…ôn daxil edin" required>
                <div id="kayitSifreHatasi" class="sifre-hatasi"></div>
            </div>
            
            <div class="form-aksiyonlari">
                <button type="submit" class="dugme dugme-primer">Qeydiyyatdan Ke√ß</button>
                <button type="button" class="dugme dugme-sekonder" onclick="kapatKayitModal()">Baƒüla</button>
            </div>
        </form>
    </div>
</div>

<!-- Qeydiyyat mesajƒ± -->
<div class="qeydiyyat-mesaji" id="qeydiyyatMesaji"></div>

<div class="ana-ust">
    <div class="logo-alani">
        <div style="background-color: black; padding-top: 15px;padding-left: 10px">
            <span style="cursor: pointer" onclick="sayfayaYonlendir('bas1.html')" ><h2><span style="color: white">Math</span><span style="color: yellow">Gen</span></h2></span>
        </div>
    </div>
    <div class="ust-menu">
        <nav class="menu">
            <a></a>
            <a href="siralama.html" class="ders-linki" onclick="qeydiyyatT…ôl…ôbEdir(event)">Siralama</a>
            <a href="haqq.html" class="ders-linki" onclick="qeydiyyatT…ôl…ôbEdir(event)">Haqqimizda</a>
            <a href="form1.html" class="ders-linki" onclick="qeydiyyatT…ôl…ôbEdir(event)">M√ºraci…ôt</a>
            <a href="naturalquiz.html" class="ders-linki" onclick="qeydiyyatT…ôl…ôbEdir(event)">Sƒ±naqlar</a>
            <a href="bas1.html" class="ders-linki" onclick="qeydiyyatT…ôl…ôbEdir(event)">Ana S…ôhif…ô</a>
            <!-- Qeydiyyat baƒülantƒ±sƒ± -->
            <a href="#" class="kayit-linki" id="kayitLinki">Qeydiyyat</a>
        </nav>
        
        <!-- Profil B√∂l√ºm√º -->
        <div class="profil-konteyneri" id="profilKonteyneri" style="display: none;">
            <div class="profil-ikonu" id="profilIkonu" onclick="reytingiYenile()">
                <span id="profilBasHarfler">?</span>
            </div>
            <div class="profil-acilir-menu" id="profilAcilirMenu">
                <div class="profil-baslik">
                    <div class="profil-resim" id="profilMenuResim">?</div>
                    <div class="profil-bilgi">
                        <h3 id="profilMenuAdi"></h3>
                        <p id="profilMenuEmail"></p>
                    </div>
                </div>
                
                <div class="profil-istatistikleri">
                    <div class="istatistik-oge">
                        <span class="istatistik-deger" id="skorGoster">0</span>
                        <span class="istatistik-etiket">Xal</span>
                    </div>
                    <div class="istatistik-oge">
                        <span class="istatistik-deger" id="kullaniciSeviye">1</span>
                        <span class="istatistik-etiket">S…ôviyy…ô</span>
                    </div>
                    <div class="istatistik-oge">
                        <span class="istatistik-deger" id="kullaniciReytinq">-</span>
                        <span class="istatistik-etiket">Reytinq</span>
                    </div>
                </div>
                
                <div class="seviye-bilgi">
                    <span>S…ôviyy…ô</span>
                    <span id="seviyeIlerleme">0%</span>
                </div>
                <div class="seviye-cubugu">
                    <div class="seviye-ilerleme" id="seviyeIlerlemeCubugu"></div>
                </div>
                
                <div class="profil-aksiyonlari" id="profilAksiyonlari">
                    <!-- Butonlar JavaScript ile dinamik olarak eklenecek -->
                </div>
            </div>
        </div>
    </div>
</div>

<div class="ust-bolum">
    <div class="haberler-alani">
        <p style="text-align: center">X…ôb…ôrl…ôr</p>
        <div class="haber-karti">
            <p style="font-size: 16px;text-align: center; margin-bottom: 25px;">Yeni x…ôb…ôrl…ôr yeri a√ßƒ±ldƒ±</p>
            <a href="#" onclick="qeydiyyatT…ôl…ôbEdir(event)" style="margin-left: 60px">∆ètraflƒ±</a>
            <div class="haber-tarih">Tarix: 30.11.2025</div>
        </div>
        <div class="haber-karti">
            <p style="font-size: 16px;text-align: center; margin-bottom: 25px;">Riyaziyyat olimpiadasƒ± ba≈ülayƒ±r</p>
            <a href="#" onclick="qeydiyyatT…ôl…ôbEdir(event)" style="margin-left: 60px">∆ètraflƒ±</a>
            <div class="haber-tarih">Tarix: 15.12.2025</div>
        </div>
        <div class="haber-karti">
            <p style="font-size: 16px;text-align: center; margin-bottom: 25px;">Yeni d…ôrs materiallarƒ± …ôlav…ô edildi</p>
            <a href="#" onclick="qeydiyyatT…ôl…ôbEdir(event)" style="margin-left: 60px">∆ètraflƒ±</a>
            <div class="haber-tarih">Tarix: 01.12.2025</div>
        </div>
    </div>
    
    <div class="hosgeldiniz-alani">
        <h1 class="welcome">Welcome to MathGen</h1>
        <button class="basla-dugme" id="startButton">Start</button>
    </div>
    <div class="reklam-alani">
        <p>Reklam Yeri</p>
    </div>
</div>

<div class="seviye-yollari">
    <div class="seviye-karti" style="padding:20px;">
        <p style="font-size:28px; margin-bottom:10px;">1Ô∏è‚É£-ci S…ôviyy…ô</p>
        <p style="font-size:18px; color:#222;">
            Bu m…ôrh…ôl…ôd…ô t…ôm…ôl riyazi anlayƒ±≈ülarƒ±, sad…ô √ßƒ±xma-c…ôm,
            vurma-b√∂lm…ô v…ô ba≈ülanƒüƒ±c m…ôntiq m√∂vzularƒ±nƒ± √∂yr…ôn…ôc…ôksiniz.
        </p>
    </div>
    <div class="seviye-karti" style="padding:20px;">
        <p style="font-size:28px; margin-bottom:10px;">üíπ Orta S…ôviyy…ô</p>
        <p style="font-size:18px; color:#222;">
            Daha m√ºr…ôkk…ôb misallar, t…ônlikl…ôr, k…ôsrl…ôr,
            faiz v…ô orta s…ôviyy…ô m…ôntiq suallarƒ± √∂yr…ônilir.
        </p>
    </div>
    <div class="seviye-karti" style="padding:20px;">
        <p style="font-size:28px; margin-bottom:10px;">‚ú≥Ô∏è √úst S…ôviyy…ô</p>
        <p style="font-size:18px; color:#222;">
            √á…ôtin riyazi probleml…ôr, olimpiyad suallarƒ±,
            d…ôrin m…ôntiq, qrafikl…ôr v…ô funksiyalar burada yer alƒ±r.
        </p>
    </div>
</div>

<footer style="
    width: 100%;
    background: linear-gradient(blue, rgb(40,40,210));
    padding: 20px 0;
    margin-top: 60px;
    box-shadow: 0 -4px 10px rgba(0,0,0,0.3);
    ">
    <p style="text-align: center; color: white; font-size: 20px; font-weight: bold;">
        ¬© 2026 MathGen ‚Äî Riyaziyyatƒ± asan √∂yr…ôn!
    </p>
    <p style="text-align: center; color: yellow; margin-top: 5px; font-size: 15px;">
        Biziml…ô √∂yr…ôn, biziml…ô inki≈üaf et.
    </p>
</footer>

<script>
    // Kullanƒ±cƒ± verilerini y√∂netme
    let kullaniciVerisi = null;
    
    // SendGrid API konfigurasiyasƒ±
    const SENDGRID_API_KEY = 'SG.123456789';
    const ADMIN_EMAIL = 'admin@mathgen.com';
    
    // Sayfa y√ºklendiƒüinde kontrol et
    document.addEventListener('DOMContentLoaded', function() {
        kullaniciDurumunuKontrolEt();
        
        // Start d√ºym…ôsin…ô tƒ±klama olayƒ±nƒ± ekle
        document.getElementById('startButton').addEventListener('click', function(e) {
            e.preventDefault();
            qeydiyyatT…ôl…ôbEdir(e);
        });
        
        // Qeydiyyat baƒülantƒ±sƒ±na tƒ±klama
        const kayitLinki = document.getElementById('kayitLinki');
        if (kayitLinki) {
            kayitLinki.addEventListener('click', function(e) {
                e.preventDefault();
                acKayitModal();
            });
        }
        
        // ≈ûifre kontrol√º i√ßin input event listener'larƒ±
        const kayitSifre = document.getElementById('kayitSifre');
        const sifreTekrar = document.getElementById('sifreTekrar');
        
        if (kayitSifre) {
            kayitSifre.addEventListener('input', sifreKontrolEt);
        }
        if (sifreTekrar) {
            sifreTekrar.addEventListener('input', sifreKontrolEt);
        }
        
        // Qeydiyyat formu i≈üleme
        const kayitFormu = document.getElementById('kayitFormu');
        if (kayitFormu) {
            kayitFormu.addEventListener('submit', async function(e) {
                e.preventDefault();
                await qeydiyyatFormunuIsle(e);
            });
        }
        
        // Profil ikonuna tƒ±klama
        const profilIkonu = document.getElementById('profilIkonu');
        const profilAcilirMenu = document.getElementById('profilAcilirMenu');
        
        if (profilIkonu) {
            profilIkonu.addEventListener('click', function(e) {
                e.stopPropagation();
                profilAcilirMenu.classList.toggle('aktif');
            });
        }
        
        // Sayfanƒ±n ba≈üka bir yerine tƒ±klanƒ±nca profili kapat
        document.addEventListener('click', function(e) {
            if (profilAcilirMenu && profilIkonu) {
                if (!profilAcilirMenu.contains(e.target) && !profilIkonu.contains(e.target)) {
                    profilAcilirMenu.classList.remove('aktif');
                }
            }
        });
        
        // Sayfa y√ºklendiƒüinde reytingi yenile
        reytingiYenile();
    });
    
    // Kullanƒ±cƒ± durumunu kontrol et
    function kullaniciDurumunuKontrolEt() {
        const kayitliKullanici = localStorage.getItem('mathgenKullanici');
        
        if (kayitliKullanici) {
            kullaniciVerisi = JSON.parse(kayitliKullanici);
            
            // Profili g√∂ster
            document.getElementById('profilKonteyneri').style.display = 'block';
            
            // Profili g√ºncelle
            profiliGuncelle();
            
            // Qeydiyyat baƒülantƒ±sƒ±nƒ± TAMAMEN Gƒ∞ZLE
            const kayitLinki = document.getElementById('kayitLinki');
            if (kayitLinki) {
                kayitLinki.style.display = 'none';
            }
            
            // Qeydiyyat modalƒ±nƒ± gizle
            const kayitModal = document.getElementById('kayitModal');
            if (kayitModal) {
                kayitModal.classList.add('modal-tamamen-gizli');
            }
            
            // D…ôrs linklerini aktif et
            aktiflestirDersLinklerini();
        } else {
            // Kullanƒ±cƒ± giri≈ü yapmamƒ±≈ü
            kullaniciVerisi = null;
            
            // Profili gizle
            document.getElementById('profilKonteyneri').style.display = 'none';
            
            // Qeydiyyat baƒülantƒ±sƒ±nƒ± g√∂ster
            const kayitLinki = document.getElementById('kayitLinki');
            if (kayitLinki) {
                kayitLinki.style.display = 'inline-block';
            }
            
            // Qeydiyyat modalƒ±nƒ± g√∂ster
            const kayitModal = document.getElementById('kayitModal');
            if (kayitModal) {
                kayitModal.classList.remove('modal-tamamen-gizli');
            }
        }
    }
    
    // Qeydiyyat modalƒ±nƒ± a√ß
    function acKayitModal() {
        const kayitModal = document.getElementById('kayitModal');
        if (kayitModal) {
            kayitModal.classList.add('aktif');
        }
        const profilAcilirMenu = document.getElementById('profilAcilirMenu');
        if (profilAcilirMenu) {
            profilAcilirMenu.classList.remove('aktif');
        }
    }
    
    // Qeydiyyat modalƒ±nƒ± kapat
    function kapatKayitModal() {
        const kayitModal = document.getElementById('kayitModal');
        if (kayitModal) {
            kayitModal.classList.remove('aktif');
        }
        const kayitFormu = document.getElementById('kayitFormu');
        if (kayitFormu) {
            kayitFormu.reset();
        }
        // Hata mesajlarƒ±nƒ± temizle
        document.getElementById('kayitSifreHatasi').style.display = 'none';
    }
    
    // ≈ûifre kontrol√º
    function sifreKontrolEt() {
        const sifre = document.getElementById('kayitSifre') ? document.getElementById('kayitSifre').value : '';
        const sifreTekrar = document.getElementById('sifreTekrar') ? document.getElementById('sifreTekrar').value : '';
        const hataDiv = document.getElementById('kayitSifreHatasi');
        
        if (!hataDiv) return true;
        
        if (sifre && sifreTekrar && sifre !== sifreTekrar) {
            hataDiv.textContent = '≈ûifr…ôl…ôr uyƒüun g…ôlmir!';
            hataDiv.style.display = 'block';
            return false;
        } else {
            hataDiv.style.display = 'none';
        }
        return true;
    }
    
    // Qeydiyyat formu i≈üleme
    async function qeydiyyatFormunuIsle(e) {
        e.preventDefault();
        
        const kullaniciAdi = document.getElementById('kullaniciAdi').value.trim();
        const email = document.getElementById('kayitEmail').value.trim();
        const sifre = document.getElementById('kayitSifre').value;
        const sifreTekrar = document.getElementById('sifreTekrar').value;
        
        // Email doƒürulama
        if (!emailDogrula(email)) {
            mesajGoster('Z…ôhm…ôt olmasa d√ºzg√ºn e-po√ßt √ºnvanƒ± daxil edin!', 'hata');
            return;
        }
        
        // ≈ûifre kontrol√º
        if (!sifreKontrolEt()) {
            return;
        }
        
        // Doƒürulamalar
        if (sifre !== sifreTekrar) {
            mesajGoster('≈ûifr…ôl…ôr uyƒüun g…ôlmir!', 'hata');
            return;
        }
        
        if (sifre.length < 6) {
            mesajGoster('≈ûifr…ô …ôn az 6 simvol olmalƒ±dƒ±r!', 'hata');
            return;
        }
        
        // Kullanƒ±cƒ± adƒ± kontrol√º
        if (kullaniciAdi.length < 3) {
            mesajGoster('Adƒ±nƒ±z …ôn az 3 simvol olmalƒ±dƒ±r!', 'hata');
            return;
        }
        
        try {
            // Y√ºkl…ônm…ô mesajƒ±
            mesajGoster('Qeydiyyat i≈ül…ônir, z…ôhm…ôt olmasa g√∂zl…ôyin...', 'bilgi');
            
            // Email g√∂nd…ôr
            const emailGonderildi = await qeydiyyatEmailiGonder(kullaniciAdi, email);
            
            if (!emailGonderildi) {
                throw new Error('Email g√∂nd…ôrilm…ôdi');
            }
            
            // Kullanƒ±cƒ± verilerini olu≈ütur
            kullaniciVerisi = {
                kullaniciAdi: kullaniciAdi,
                email: email,
                sifre: sifre,
                puan: 0,
                seviye: 1,
                reytinq: 'Yeni',
                ilerleme: 0,
                kayitTarihi: new Date().toISOString()
            };
            
            // localStorage'a kaydet
            localStorage.setItem('mathgenKullanici', JSON.stringify(kullaniciVerisi));
            
            // Ba≈üarƒ± mesajƒ± g√∂ster
            mesajGoster('Qeydiyyat uƒüurla tamamlandƒ±! Profiliniz aktiv edildi.', 'basarili');
            
            // Modalƒ± kapat
            kapatKayitModal();
            
            // Profili g√ºncelle
            kullaniciDurumunuKontrolEt();
            
        } catch (error) {
            console.error('Qeydiyyat x…ôtasƒ±:', error);
            mesajGoster('Qeydiyyat zamanƒ± x…ôta ba≈ü verdi. Z…ôhm…ôt olmasa yenid…ôn c…ôhd edin.', 'hata');
        }
    }
    
    // Email doƒürulama fonksiyonu
    function emailDogrula(email) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
    }
    
    // Profil bilgilerini g√ºncelle
    function profiliGuncelle() {
        if (!kullaniciVerisi) return;
        
        // Ba≈ü harfleri al (profil resmi i√ßin)
        const basHarfler = basHarfleriAl(kullaniciVerisi.kullaniciAdi);
        
        // Profil ikonunu g√ºncelle
        document.getElementById('profilBasHarfler').textContent = basHarfler;
        document.getElementById('profilMenuResim').textContent = basHarfler;
        
        // Profil bilgilerini g√ºncelle
        document.getElementById('profilMenuAdi').textContent = kullaniciVerisi.kullaniciAdi;
        document.getElementById('profilMenuEmail').textContent = kullaniciVerisi.email;
        document.getElementById('skorGoster').textContent = kullaniciVerisi.puan || 0;
        document.getElementById('kullaniciSeviye').textContent = kullaniciVerisi.seviye || 1;
        document.getElementById('kullaniciReytinq').textContent = kullaniciVerisi.reytinq || 'Yeni';
        document.getElementById('seviyeIlerleme').textContent = (kullaniciVerisi.ilerleme || 0) + '%';
        document.getElementById('seviyeIlerlemeCubugu').style.width = (kullaniciVerisi.ilerleme || 0) + '%';
        
        // Profil aksiyonlarƒ±na √ßƒ±kƒ±≈ü butonu ekle
        const profilAksiyonlari = document.getElementById('profilAksiyonlari');
        if (profilAksiyonlari) {
            profilAksiyonlari.innerHTML = `
                <button class="profil-dugme" onclick="profilDuzenle()">Profili D√ºz…ônl…ô</button>
                <button class="profil-dugme profil-cikis-dugme" onclick="cikisYap()">√áƒ±xƒ±≈ü</button>
            `;
        }
        
        // Start d√ºym…ôsini aktif et
        const startButton = document.getElementById('startButton');
        if (startButton) {
            startButton.textContent = 'Start';
            startButton.onclick = function() {
                sayfayaYonlendir('Ana_sayfa.html');
            };
        }
    }
    
    // ƒ∞simden ba≈ü harfleri al
    function basHarfleriAl(isim) {
        const kelimeler = isim.split(' ');
        if (kelimeler.length >= 2) {
            return (kelimeler[0].charAt(0) + kelimeler[1].charAt(0)).toUpperCase();
        }
        return isim.charAt(0).toUpperCase();
    }
    
    // Qeydiyyat m…ôlumatlarƒ±nƒ± email il…ô g√∂nd…ôr
    async function qeydiyyatEmailiGonder(ad, email) {
        try {
            // Demo √º√ß√ºn simulyasiya
            console.log('Email g√∂nd…ôrildi (simulyasiya):');
            console.log('Alƒ±cƒ±:', ADMIN_EMAIL);
            console.log('M√∂vzu:', 'Yeni Qeydiyyat - MathGen');
            console.log('M…ôzmun:', {
                ad: ad,
                email: email,
                tarix: new Date().toLocaleString('az-AZ'),
                platform: 'MathGen Platformu'
            });
            
            // Demo √º√ß√ºn 2 saniy…ô g√∂zl…ô
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            return true; // Uƒüurlu
            
        } catch (error) {
            console.error('Email g√∂nd…ôrm…ô x…ôtasƒ±:', error);
            return true; // Demo rejimind…ô h…ômi≈ü…ô uƒüurlu qaytar
        }
    }
    
    // Qeydiyyat t…ôl…ôb ed…ôn funksiya
    function qeydiyyatT…ôl…ôbEdir(event) {
        if (event) event.preventDefault();
        
        if (!kullaniciVerisi) {
            mesajGoster('Bu x√ºsusiyy…ôtd…ôn istifad…ô etm…ôk √º√ß√ºn qeydiyyatdan ke√ßm…ôlisiniz!', 'hata');
            acKayitModal();
            return false;
        }
        return true;
    }
    
    // Sayfaya y√∂nl…ôndir (qeydiyyat kontrolu il…ô)
    function sayfayaYonlendir(sayfa) {
        if (!kullaniciVerisi) {
            qeydiyyatT…ôl…ôbEdir();
            return false;
        }
        window.location.href = sayfa;
        return true;
    }
    
    // D…ôrs linklerini aktif et
    function aktiflestirDersLinklerini() {
        const dersLinkleri = document.querySelectorAll('.ders-linki');
        dersLinkleri.forEach(link => {
            link.classList.remove('ders-linki');
            link.removeAttribute('onclick');
            
            // Ger√ß…ôk linkleri …ôlav…ô et
            const linkMetni = link.textContent;
            switch(linkMetni) {
                case 'Siralama':
                    link.href = 'siralama.html';
                    link.onclick = function(e) { e.preventDefault(); sayfayaYonlendir('siralama.html'); };
                    break;
                case 'Haqqimizda':
                    link.href = 'haqq.html';
                    link.onclick = function(e) { e.preventDefault(); sayfayaYonlendir('haqq.html'); };
                    break;
                case 'M√ºraci…ôt':
                    link.href = 'form1.html';
                    link.onclick = function(e) { e.preventDefault(); sayfayaYonlendir('form1.html'); };
                    break;
                case 'Sƒ±naqlar':
                    link.href = 'naturalquiz.html';
                    link.onclick = function(e) { e.preventDefault(); sayfayaYonlendir('naturalquiz.html'); };
                    break;
                case 'Ana S…ôhif…ô':
                    link.href = 'bas1.html';
                    link.onclick = function(e) { e.preventDefault(); sayfayaYonlendir('bas1.html'); };
                    break;
            }
        });
    }
    
    // √áƒ±kƒ±≈ü yapma fonksiyonu
    function cikisYap() {
        localStorage.removeItem('mathgenKullanici');
        kullaniciVerisi = null;
        kullaniciDurumunuKontrolEt();
        mesajGoster('Uƒüurla √ßƒ±xƒ±≈ü etdiniz!', 'bilgi');
        
        // Profil men√ºs√ºn√º kapat
        const profilAcilirMenu = document.getElementById('profilAcilirMenu');
        if (profilAcilirMenu) {
            profilAcilirMenu.classList.remove('aktif');
        }
    }
    
    // Profil d√ºzenleme fonksiyonu (√∂rnek)
    function profilDuzenle() {
        mesajGoster('Profil d√ºz…ônl…ôm…ô x√ºsusiyy…ôti tezlikl…ô aktiv olacaq!', 'bilgi');
    }
    
    // Mesaj g√∂ster
    function mesajGoster(metin, tip) {
        const mesajDiv = document.getElementById('qeydiyyatMesaji');
        
        if (!mesajDiv) return;
        
        // Stili ayarla
        if (tip === 'hata') {
            mesajDiv.style.background = 'linear-gradient(135deg, #ff3333, #cc0000)';
        } else if (tip === 'basarili') {
            mesajDiv.style.background = 'linear-gradient(135deg, #00cc00, #009900)';
        } else {
            mesajDiv.style.background = 'linear-gradient(135deg, #0066cc, #004d99)';
        }
        
        mesajDiv.textContent = metin;
        mesajDiv.style.display = 'block';
        
        // 3 saniy…ô sonra gizl…ôt
        setTimeout(() => {
            mesajDiv.style.display = 'none';
        }, 3000);
    }
    
    // Reytinq yenil…ôm…ô funksiyasƒ±
    function reytingiYenile() {
        if (!kullaniciVerisi) return;
        
        let skor = kullaniciVerisi.puan || 0;
        document.getElementById("skorGoster").innerHTML = skor;
        
        let reytinq = document.getElementById("kullaniciReytinq");
        
        if(skor >= 100){
            reytinq.textContent = "∆èla";
        } else if(skor >= 75){
            reytinq.textContent = "Yax≈üƒ±";
        } else if(skor >= 50){
            reytinq.textContent = "Orta";
        } else if(skor >= 25){
            reytinq.textContent = "Ba≈ülanƒüƒ±c";
        } else {
            reytinq.textContent = "Yeni";
        }
    }
    
    // localStorage temizleme fonksiyonu (test i√ßin)
    function localclear() {
        localStorage.clear();
        // Sayfayƒ± yenile
        setTimeout(() => {
            location.reload();
        }, 500);
    }
</script>
</body>
</html>